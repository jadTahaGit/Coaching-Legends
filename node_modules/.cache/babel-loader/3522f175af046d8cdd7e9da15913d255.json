{"ast":null,"code":"import _asyncToGenerator from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import\"./SignUpForm.scss\";import axios from\"axios\";import validation from\"./validation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUpForm=function SignUpForm(_ref){var trigger=_ref.trigger,setSignUpFormPopUp=_ref.setSignUpFormPopUp,setOpacity=_ref.setOpacity,setPosition=_ref.setPosition;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({email:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var changeHandler=function changeHandler(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setErrors(validation(values));console.log(values);try{axios.post(\"http://localhost:3000/users/signup/\",values,{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(res){// console.log(res.data);\nif(res.data.user){window.location.assign(\"/loggedin\");}});}catch(error){console.log(error);}setValues({email:\"\",password:\"\"});case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return trigger?/*#__PURE__*/_jsxs(_Fragment,{children:[setOpacity(\"20%\"),/*#__PURE__*/_jsx(\"div\",{className:\"signUpForm\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return submitHandler(e);},className:\"signUpForm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closeBtn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setSignUpFormPopUp(false);setOpacity(\"100%\");setPosition(\"\");},children:\"X\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Coach online\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Earn money on your schedule\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",name:\"email\",value:values.email,onChange:function onChange(e){return changeHandler(e);}}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Password\",name:\"password\",value:values.password,onChange:function onChange(e){return changeHandler(e);}}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signUpBtn\",children:\"Sign up with email\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"breakline\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"or continue with\"}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"Facebook__btn\",children:\"Facebook\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Google__btn\",children:\"Google\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"gray__text\",children:\"By signing up, you agree to Terms of Service and Privacy Policy\"})]})})]}):\"\";};export default SignUpForm;","map":{"version":3,"sources":["/Users/jadtaha/Desktop/react/coaching-legends/client/src/components/general/SignUpForm.js"],"names":["React","useState","axios","validation","SignUpForm","trigger","setSignUpFormPopUp","setOpacity","setPosition","email","password","values","setValues","errors","setErrors","changeHandler","e","target","name","value","submitHandler","preventDefault","console","log","post","headers","Accept","then","res","data","user","window","location","assign","error"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./SignUpForm.scss\";\nimport axios from \"axios\";\nimport validation from \"./validation\";\n\nconst SignUpForm = ({\n  trigger,\n  setSignUpFormPopUp,\n  setOpacity,\n  setPosition,\n}) => {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [errors, setErrors] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const changeHandler = (e) => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    setErrors(validation(values));\n\n    console.log(values);\n\n    try {\n      axios\n        .post(\"http://localhost:3000/users/signup/\", values, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        })\n        .then((res) => {\n          // console.log(res.data);\n          if (res.data.user) {\n            window.location.assign(\"/loggedin\");\n          }\n        });\n    } catch (error) {\n      console.log(error);\n    }\n    setValues({\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  return trigger ? (\n    <>\n      {setOpacity(\"20%\")}\n      <div className=\"signUpForm\">\n        <form onSubmit={(e) => submitHandler(e)} className=\"signUpForm\">\n          <div className=\"closeBtn\">\n            <button\n              onClick={() => {\n                setSignUpFormPopUp(false);\n                setOpacity(\"100%\");\n                setPosition(\"\");\n              }}\n            >\n              X\n            </button>\n          </div>\n          <div className=\"text-box\">\n            <h1>Coach online</h1>\n            <p>Earn money on your schedule</p>\n          </div>\n          <div className=\"inputs\">\n            <input\n              type=\"text\"\n              placeholder=\"Email\"\n              name=\"email\"\n              value={values.email}\n              onChange={(e) => changeHandler(e)}\n            />\n            {errors.email && <p className=\"error\">{errors.email}</p>}\n            <input\n              type=\"text\"\n              placeholder=\"Password\"\n              name=\"password\"\n              value={values.password}\n              onChange={(e) => changeHandler(e)}\n            />\n            {errors.password && <p className=\"error\">{errors.password}</p>}\n          </div>\n          <button type=\"submit\" className=\"signUpBtn\">\n            Sign up with email\n          </button>\n\n          <p className=\"breakline\">\n            <div></div>\n            <span>or continue with</span>\n            <div></div>\n          </p>\n          <div className=\"btns\">\n            <button className=\"Facebook__btn\">Facebook</button>\n            <button className=\"Google__btn\">Google</button>\n          </div>\n          <p className=\"gray__text\">\n            By signing up, you agree to Terms of Service and Privacy Policy\n          </p>\n        </form>\n      </div>\n    </>\n  ) : (\n    \"\"\n  );\n};\n\nexport default SignUpForm;\n"]},"metadata":{},"sourceType":"module"}