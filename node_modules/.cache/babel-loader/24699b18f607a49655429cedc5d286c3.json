{"ast":null,"code":"import _asyncToGenerator from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jadtaha/Desktop/react/coaching-legends/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useRef,useEffect}from\"react\";import\"./SignIn.scss\";import ReactDOM from\"react-router-dom\";import validation from\"./validation\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(_ref){var trigger=_ref.trigger,setSignInFormPopUp=_ref.setSignInFormPopUp,setOpacity=_ref.setOpacity,setPosition=_ref.setPosition;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({email:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var changeHandler=function changeHandler(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setErrors(validation(values));console.log(values);try{axios.post(\"http://localhost:3000/users/login\",values,{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(res){// console.log(res.data);\nif(res.data.user){window.location.assign(\"/loggedin\");}});}catch(error){console.log(error);}setValues({email:\"\",password:\"\"});case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();if(trigger){return/*#__PURE__*/_jsxs(\"div\",{className:\"SignIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closeBtn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setSignInFormPopUp(false);setOpacity(\"100%\");setPosition(\"\");},children:\"X\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In to Coachync\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return changeHandler(e);}}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return changeHandler(e);}}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submit\",onClick:function onClick(e){return submitHandler(e);}})]});}else{return\"\";}};export default SignIn;","map":{"version":3,"sources":["/Users/jadtaha/Desktop/react/coaching-legends/client/src/components/general/SignIn.js"],"names":["React","useState","useRef","useEffect","ReactDOM","validation","axios","SignIn","trigger","setSignInFormPopUp","setOpacity","setPosition","email","password","values","setValues","errors","setErrors","changeHandler","e","target","name","value","submitHandler","preventDefault","console","log","post","headers","Accept","then","res","data","user","window","location","assign","error"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport \"./SignIn.scss\";\nimport ReactDOM from \"react-router-dom\";\nimport validation from \"./validation\";\nimport axios from \"axios\";\n\nconst SignIn = ({ trigger, setSignInFormPopUp, setOpacity, setPosition }) => {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [errors, setErrors] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const changeHandler = (e) => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    setErrors(validation(values));\n    console.log(values);\n    try {\n      axios\n        .post(\"http://localhost:3000/users/login\", values, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        })\n        .then((res) => {\n          // console.log(res.data);\n          if (res.data.user) {\n            window.location.assign(\"/loggedin\");\n          }\n        });\n    } catch (error) {\n      console.log(error);\n    }\n    setValues({\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  if (trigger) {\n    return (\n      <div className=\"SignIn\">\n        <div className=\"closeBtn\">\n          <button\n            onClick={() => {\n              setSignInFormPopUp(false);\n              setOpacity(\"100%\");\n              setPosition(\"\");\n            }}\n          >\n            X\n          </button>\n        </div>\n        <h1>Sign In to Coachync</h1>\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          name=\"email\"\n          onChange={(e) => changeHandler(e)}\n        />\n        {errors.email && <p className=\"error\">{errors.email}</p>}\n        <input\n          type=\"text\"\n          placeholder=\"Password\"\n          name=\"password\"\n          onChange={(e) => changeHandler(e)}\n        />\n        {errors.password && <p className=\"error\">{errors.password}</p>}\n        <input\n          type=\"submit\"\n          className=\"submit\"\n          onClick={(e) => submitHandler(e)}\n        />\n      </div>\n    );\n  } else {\n    return \"\";\n  }\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}