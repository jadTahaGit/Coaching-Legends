{"ast":null,"code":"import _asyncToGenerator from\"/Users/jadtaha/Desktop/react/Coachync/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/jadtaha/Desktop/react/Coachync/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jadtaha/Desktop/react/Coachync/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jadtaha/Desktop/react/Coachync/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jadtaha/Desktop/react/Coachync/node_modules/@babel/runtime/regenerator/index.js\";// HEAD:client/src/components/general/SignIn.js\nimport React,{useEffect,useState}from\"react\";// 8054022d04e88b9699dbed518bbaa76f3c718d35:client/src/components/form/SignIn.js\nimport\"./SignIn.scss\";import validation from\"../general/validation\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(props){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({email:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var changeHandler=function changeHandler(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){document.body.style.overflow=\"hidden\";return function(){document.body.style.overflow=\"\";};},[]);var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setErrors(validation(values));console.log(values);try{axios.post(\"http://localhost:3000/users/login\",values,{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(res){// console.log(res.data);\nif(res.data.user){window.location.assign(\"/loggedin\");}});}catch(error){console.log(error);}setValues({email:\"\",password:\"\"});case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"SignIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closeBtn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:props.onClose,children:\"X\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\" Sign In to Coachync\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return changeHandler(e);}}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return changeHandler(e);}}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submit\",onClick:function onClick(e){return submitHandler(e);}})]});};export default SignIn;","map":{"version":3,"sources":["/Users/jadtaha/Desktop/react/Coachync/src/components/form/SignIn.js"],"names":["React","useEffect","useState","validation","axios","SignIn","props","email","password","values","setValues","errors","setErrors","changeHandler","e","target","name","value","document","body","style","overflow","submitHandler","preventDefault","console","log","post","headers","Accept","then","res","data","user","window","location","assign","error","onClose"],"mappings":"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","sourcesContent":["// HEAD:client/src/components/general/SignIn.js\n\nimport React, { useEffect, useState } from \"react\";\n\n// 8054022d04e88b9699dbed518bbaa76f3c718d35:client/src/components/form/SignIn.js\nimport \"./SignIn.scss\";\nimport validation from \"../general/validation\";\nimport axios from \"axios\";\n\nconst SignIn = (props) => {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [errors, setErrors] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const changeHandler = (e) => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, []);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    setErrors(validation(values));\n    console.log(values);\n    try {\n      axios\n        .post(\"http://localhost:3000/users/login\", values, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        })\n        .then((res) => {\n          // console.log(res.data);\n          if (res.data.user) {\n            window.location.assign(\"/loggedin\");\n          }\n        });\n    } catch (error) {\n      console.log(error);\n    }\n    setValues({\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  return (\n    <div className=\"SignIn\">\n      <div className=\"closeBtn\">\n        <button onClick={props.onClose}>X</button>\n      </div>\n      <h1> Sign In to Coachync \n      </h1>\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        name=\"email\"\n        onChange={(e) => changeHandler(e)}\n      />\n      {errors.email && <p className=\"error\">{errors.email}</p>}\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        name=\"password\"\n        onChange={(e) => changeHandler(e)}\n      />\n      {errors.password && <p className=\"error\">{errors.password}</p>}\n      <input\n        type=\"submit\"\n        className=\"submit\"\n        onClick={(e) => submitHandler(e)}\n      />\n    </div>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}